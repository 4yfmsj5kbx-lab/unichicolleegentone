<header>
    <div class="header-content">
        <div class="logo">
            <!-- ä½¿ç”¨ç°¡å–®è¢‹é¼ åœ–æ¨™æ›¿ä»£è¤‡é›œlogo -->
            <div class="logo-img">ğŸ¦˜</div>
            <span>Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</span>
        </div>
        <div class="cart-icon-wrapper" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cart-count">0</span>
        </div>
    </div>
</header>

<!-- è³¼ç‰©è»Šå´é‚Šæ¬„ -->
<div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
        <h2>è³¼ç‰©è»Š</h2>
        <button class="close-cart" onclick="closeCart()">&times;</button>
    </div>
    
    <div class="cart-items" id="cart-items">
        <!-- è³¼ç‰©è»Šå•†å“æœƒå‹•æ…‹é¡¯ç¤ºåœ¨é€™è£¡ -->
        <p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>
    </div>
    
    <div class="cart-total">
        <h3>è¨‚å–®è©³æƒ…</h3>
        <div class="total-row">
            <span>å•†å“ç¸½é¡</span>
            <span id="cart-subtotal">Â¥0.00</span>
        </div>
        <div class="total-row">
            <span>é‹è²»</span>
            <span id="cart-shipping">åŒ…éƒµåŒ…ç¨…</span>
        </div>
        <div class="total-row final">
            <span>ç¸½è¨ˆ</span>
            <span id="cart-total">Â¥0.00</span>
        </div>
    </div>
    
    <button class="checkout-btn" onclick="checkout()">å»çµç®—</button>
</div>

<div class="container">
    <div class="product-card">
        <div class="product-image">
            <!-- æ¢å¾©ä¹‹å‰çš„å°ç†Šè»Ÿç³–åœ–æ¨™ -->
            <div class="product-emoji">ğŸ§¸</div>
        </div>
        
        <div class="product-info">
            <div class="product-badge">æ¾³æ´²æ­£å“ç›´éƒµ</div>
            <h1 class="product-title">UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–</h1>
            <p class="product-subtitle">ç«ç‘°æœç²¾è¯+ç¶­ç”Ÿç´ Cï¼Œç¾å‘³åˆç¾å®¹ï¼Œæ¯ç“¶60ç²’</p>
            
            <div class="price-section">
                <div class="price-label">äººæ°‘å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                <div class="price">Â¥160.00 <span>Â¥258.00</span></div>
                <span class="currency-toggle" onclick="toggleCurrency()">åˆ‡æ›å°å¹£åƒ¹æ ¼</span>
                
                <div class="price-twd" id="price-twd">
                    <div class="price-label">å°å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                    <div class="price">NT$710</div>
                </div>
            </div>
            
            <div class="features">
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <span>æ¾³æ´²è—¥æˆ¿æ­£å“</span>
                </div>
                <div class="feature">
                    <i class="fas fa-shipping-fast"></i>
                    <span>ç›´éƒµåŒ…éƒµåŒ…ç¨…</span>
                </div>
                <div class="feature">
                    <i class="fas fa-leaf"></i>
                    <span>å¤©ç„¶æˆåˆ†</span>
                </div>
                <div class="feature">
                    <i class="fas fa-heart"></i>
                    <span>æ”¹å–„è‚Œè†š</span>
                </div>
            </div>
            
            <!-- æ¢å¾©ä¹‹å‰çš„ç”¢å“æè¿° -->
            <div class="product-description">
                <h3>ç”¢å“ä»‹ç´¹</h3>
                <p>UNICHIè† åŸè›‹ç™½å°ç†Šè»Ÿç³–æ˜¯æ¾³æ´²çˆ†æ¬¾ç¾å®¹ç‡Ÿé¤Šå“ï¼Œæ¡ç”¨å¤©ç„¶ç«ç‘°æœç²¾è¯å’Œç¶­ç”Ÿç´ Cé…æ–¹ï¼Œæ¯é¡†è»Ÿç³–éƒ½åƒç¾å‘³çš„å°ç†Šç³–æœï¼Œè¼•é¬†è£œå……è† åŸè›‹ç™½ï¼Œæ”¹å–„çš®è†šå½ˆæ€§ï¼Œæ¸›å°‘ç´°ç´‹ã€‚</p>
                <p>ç„¡äººå·¥è‰²ç´ ã€ç„¡é˜²è…åŠ‘ã€ç„¡éº©è³ªï¼Œé©åˆç´ é£Ÿè€…ã€‚æ¯å¤©2é¡†ï¼ŒæŒçºŒ28å¤©ï¼Œè¦‹è­‰è‚Œè†šç…¥æ–°è®ŠåŒ–ã€‚</p>
                
                <h3>ä¸»è¦åŠŸæ•ˆ</h3>
                <ul>
                    <li>ä¿ƒé€²è† åŸè›‹ç™½ç”Ÿæˆï¼Œå¢å¼·çš®è†šå½ˆæ€§</li>
                    <li>æ¸›å°‘ç´°ç´‹å’Œçšºç´‹ï¼Œæ”¹å–„è‚Œè†šè³ªåœ°</li>
                    <li>å¯Œå«ç¶­ç”Ÿç´ Cï¼Œæäº®è†šè‰²æŠ—æ°§åŒ–</li>
                    <li>ç«ç‘°æœç²¾è¯ï¼Œå¤©ç„¶æ»‹é¤Šè‚Œè†š</li>
                    <li>æ”¹å–„é ­é«®å’ŒæŒ‡ç”²å¥åº·</li>
                </ul>
                
                <h3>æˆåˆ†èªªæ˜</h3>
                <ul>
                    <li>è† åŸè›‹ç™½è‚½ï¼ˆæµ·æ´‹ä¾†æºï¼‰</li>
                    <li>å¤©ç„¶ç«ç‘°æœæå–ç‰©</li>
                    <li>ç¶­ç”Ÿç´ Cï¼ˆæŠ—å£è¡€é…¸ï¼‰</li>
                    <li>å¤©ç„¶æ°´æœæå–ç‰©ï¼ˆèª¿å‘³ï¼‰</li>
                    <li>ç„¡äººå·¥è‰²ç´ ã€ç„¡é˜²è…åŠ‘</li>
                </ul>
                
                <h3>é£Ÿç”¨æ–¹æ³•</h3>
                <ul>
                    <li>æˆäººæ¯æ—¥2é¡†ï¼Œéš¨é¤æˆ–é¤å¾Œé£Ÿç”¨</li>
                    <li>å¯ç›´æ¥å’€åš¼ï¼Œå£æ„Ÿé…¸ç”œå¯å£</li>
                    <li>å»ºè­°é€£çºŒé£Ÿç”¨28å¤©ä»¥ä¸Šæ•ˆæœæ›´ä½³</li>
                    <li>å­˜æ”¾æ–¼é™°æ¶¼ä¹¾ç‡¥è™•ï¼Œé¿å…é™½å…‰ç›´å°„</li>
                    <li>ç½®æ–¼å…’ç«¥ç„¡æ³•è§¸åŠçš„åœ°æ–¹</li>
                </ul>
            </div>
            
            <div style="margin: 25px 0;">
                <div style="margin-bottom: 15px; font-weight: 600;">è³¼è²·æ•¸é‡ï¼š</div>
                <div class="quantity-control">
                    <button class="qty-btn" onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1" readonly>
                    <button class="qty-btn" onclick="changeQuantity(1)">+</button>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="addToCart()">
                    <i class="fas fa-cart-plus"></i> åŠ å…¥è³¼ç‰©è»Š
                </button>
                <button class="btn btn-secondary" onclick="buyNow()">
                    <i class="fas fa-bolt"></i> ç«‹å³è³¼è²·
                </button>
            </div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-top: 25px;">
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-info-circle" style="color: #4ecdc4; margin-right: 10px;"></i>
                    é è¨ˆé€é”ï¼šæ¾³æ´²ç›´éƒµï¼Œ7-15å€‹å·¥ä½œæ—¥å…§é€é”
                </p>
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-shield-alt" style="color: #4ecdc4; margin-right: 10px;"></i>
                    æ­£å“ä¿éšœï¼šæä¾›æ¾³æ´²æœ¬åœ°è³¼è²·æ†‘è­‰
                </p>
            </div>
        </div>
    </div>
</div>

<div id="contactModal" class="modal">
    <div class="modal-content">
        <div style="font-size: 60px; color: #4ecdc4; margin-bottom: 20px;">
            <i class="fas fa-comment-dots"></i>
        </div>
        
        <h2 style="color: #333; margin-bottom: 10px;">è¯ç¹«å®¢æœè³¼è²·</h2>
        <p style="color: #666; margin-bottom: 30px;">è«‹æ·»åŠ ä»¥ä¸‹è¯ç¹«æ–¹å¼ï¼Œå®¢æœå°‡ç‚ºæ‚¨è™•ç†è¨‚å–®</p>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">å¾®ä¿¡ï¼ˆä¸­åœ‹ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ æ™‚è«‹å‚™è¨»"UNICHIå°ç†Šè»Ÿç³–"</p>
        </div>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">LINEï¼ˆå°ç£ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ å¾Œç™¼é€"UNICHI"é–‹å§‹è«®è©¢</p>
        </div>
        
        <p style="color: #666; font-size: 15px; margin: 30px 0; line-height: 1.6;">
            æ·»åŠ å®¢æœå¾Œï¼Œè«‹ç™¼é€æ‚¨çš„è³¼ç‰©è»Šæˆªåœ–ï¼Œå®¢æœå°‡ç‚ºæ‚¨ç¢ºèªè¨‚å–®è©³æƒ…ã€å®‰æ’ç™¼è²¨ä¸¦æŒ‡å°æ”¯ä»˜ã€‚
        </p>
        
        <button class="btn btn-secondary" onclick="closeModal()" style="width: 100%; padding: 18px; font-size: 16px;">
            <i class="fas fa-times"></i> é—œé–‰çª—å£
        </button>
    </div>
</div>

<div id="notification" class="notification"></div>

<footer>
    <div class="container">
        <p style="font-size: 16px; margin-bottom: 10px; font-weight: 600;">Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</p>
        <p style="color: #888; font-size: 14px; margin: 5px 0;">å°ˆæ¥­æ¾³æ´²ç›´éƒµï¼Œæ­£å“ä¿éšœï¼ŒåŒ…éƒµåŒ…ç¨…</p>
        <p style="color: #aaa; font-size: 13px; margin-top: 15px;">æœå‹™æ™‚é–“ï¼šé€±ä¸€è‡³é€±äº” 9:00-18:00ï¼ˆæ¾³æ´²æ™‚é–“ï¼‰</p>
        
        <div class="social-icons">
            <a href="#"><i class="fab fa-weixin"></i></a>
            <a href="#"><i class="fab fa-line"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
    </div>
</footer>

<script>
    // ç”¢å“æ•¸æ“šé…ç½®
    const productConfig = {
        id: 1,
        name: "UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–",
        subtitle: "ç«ç‘°æœç²¾è¯+ç¶­ç”Ÿç´ Cï¼Œç¾å‘³åˆç¾å®¹ï¼Œæ¯ç“¶60ç²’",
        badge: "æ¾³æ´²æ­£å“ç›´éƒµ",
        emoji: "ğŸ§¸",
        
        // åƒ¹æ ¼è¨­å®š
        price_cny: 160.00,
        original_price_cny: 258.00,
        price_twd: 710
    };
    
    // è³¼ç‰©è»Šæ•¸æ“š
    let cart = [];
    let quantity = 1;
    let currentCurrency = "cny"; // cny æˆ– twd
    
    // DOMå…ƒç´ 
    const quantityEl = document.getElementById('quantity');
    const cartCountEl = document.getElementById('cart-count');
    const cartItemsEl = document.getElementById('cart-items');
    const cartSubtotalEl = document.getElementById('cart-subtotal');
    const cartShippingEl = document.getElementById('cart-shipping');
    const cartTotalEl = document.getElementById('cart-total');
    const cartSidebar = document.getElementById('cart-sidebar');
    const overlay = document.getElementById('overlay');
    const notificationEl = document.getElementById('notification');
    const contactModal = document.getElementById('contactModal');
    const priceTwdEl = document.getElementById('price-twd');
    
    // åˆå§‹åŒ–ç”¢å“è³‡è¨Š
    function initProduct() {
        document.getElementById('product-title').textContent = productConfig.name;
        document.getElementById('product-subtitle').textContent = productConfig.subtitle;
        document.getElementById('product-badge').textContent = productConfig.badge;
        document.getElementById('product-emoji').textContent = productConfig.emoji;
        document.getElementById('price-cny').innerHTML = `Â¥${productConfig.price_cny.toFixed(2)} <span>Â¥${productConfig.original_price_cny.toFixed(2)}</span>`;
        document.getElementById('price-twd').querySelector('.price').textContent = `NT$${productConfig.price_twd}`;
    }
    
    // åˆ‡æ›è²¨å¹£é¡¯ç¤º
    function toggleCurrency() {
        const toggleBtn = document.querySelector('.currency-toggle');
        if (currentCurrency === "cny") {
            currentCurrency = "twd";
            toggleBtn.textContent = "åˆ‡æ›äººæ°‘å¹£åƒ¹æ ¼";
            priceTwdEl.style.display = "block";
        } else {
            currentCurrency = "cny";
            toggleBtn.textContent = "åˆ‡æ›å°å¹£åƒ¹æ ¼";
            priceTwdEl.style.display = "none";
        }
        updateCart();
    }
    
    // ä¿®æ”¹æ•¸é‡
    function changeQuantity(amount) {
        let value = parseInt(quantityEl.value) + amount;
        if (value < 1) value = 1;
        quantityEl.value = value;
        quantity = value;
    }
    
    // æ·»åŠ åˆ°è³¼ç‰©è»Š
    function addToCart() {
        const existingItem = cart.find(item => item.id === productConfig.id);
        
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            cart.push({
                id: productConfig.id,
                name: productConfig.name,
                price_cny: productConfig.price_cny,
                price_twd: productConfig.price_twd,
                emoji: productConfig.emoji,
                quantity: quantity
            });
        }
        
        updateCart();
        showNotification('å·²æ·»åŠ  ' + quantity + ' ç“¶UNICHIå°ç†Šè»Ÿç³–åˆ°è³¼ç‰©è»Š');
        quantityEl.value = 1;
        quantity = 1;
    }
    
    // ç«‹å³è³¼è²·
    function buyNow() {
        addToCart();
        toggleCart();
    }
    
    // åˆ‡æ›è³¼ç‰©è»Šé¡¯ç¤º
    function toggleCart() {
        cartSidebar.classList.toggle('active');
        overlay.classList.toggle('active');
    }
    
    // é—œé–‰è³¼ç‰©è»Š
    function closeCart() {
        cartSidebar.classList.remove('active');
        overlay.classList.remove('active');
    }
    
    // æ›´æ–°è³¼ç‰©è»Šé¡¯ç¤º
    function updateCart() {
        // æ›´æ–°è³¼ç‰©è»Šæ•¸é‡
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartCountEl.textContent = totalItems;
        
        // æ¸²æŸ“è³¼ç‰©è»Šå•†å“
        renderCartItems();
        
        // è¨ˆç®—ç¸½åƒ¹
        calculateCartTotal();
    }
    
    // æ¸²æŸ“è³¼ç‰©è»Šå•†å“
    function renderCartItems() {
        cartItemsEl.innerHTML = '';
        
        if (cart.length === 0) {
            cartItemsEl.innerHTML = '<p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>';
            return;
        }
        
        cart.forEach(item => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            
            // æ ¹æ“šç•¶å‰è²¨å¹£é¡¯ç¤ºåƒ¹æ ¼
            const price = currentCurrency === "cny" ? item.price_cny : item.price_twd;
            const currencySymbol = currentCurrency === "cny" ? "Â¥" : "NT$";
            const priceDisplay = currentCurrency === "cny" ? price.toFixed(2) : price;
            
            cartItem.innerHTML = `
                <div class="cart-item-img">
                    <span>${item.emoji}</span>
                </div>
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${currencySymbol}${priceDisplay}</div>
                    <div class="cart-item-controls">
                        <button class="cart-qty-btn" onclick="updateCartItemQuantity(${item.id}, -1)">-</button>
                        <span class="cart-qty">${item.quantity}</span>
                        <button class="cart-qty-btn" onclick="updateCartItemQuantity(${item.id}, 1)">+</button>
                        <span class="remove-item" onclick="removeFromCart(${item.id})">åˆªé™¤</span>
                    </div>
                </div>
            `;
            
            cartItemsEl.appendChild(cartItem);
        });
    }
    
    // æ›´æ–°è³¼ç‰©è»Šå•†å“æ•¸é‡
    function updateCartItemQuantity(productId, change) {
        const item = cart.find(item => item.id === productId);
        
        if (item) {
            item.quantity += change;
            
            if (item.quantity <= 0) {
                cart = cart.filter(item => item.id !== productId);
                showNotification('å·²å¾è³¼ç‰©è»Šç§»é™¤');
            }
            
            updateCart();
        }
    }
    
    // å¾è³¼ç‰©è»Šç§»é™¤å•†å“
    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        updateCart();
        showNotification('å·²å¾è³¼ç‰©è»Šç§»é™¤');
    }
    
    // è¨ˆç®—è³¼ç‰©è»Šç¸½åƒ¹
    function calculateCartTotal() {
        let subtotal = 0;
        
        cart.forEach(item => {
            if (currentCurrency === "cny") {
                subtotal += item.price_cny * item.quantity;
            } else {
                subtotal += item.price_twd * item.quantity;
            }
        });
        
        const currencySymbol = currentCurrency === "cny" ? "Â¥" : "NT$";
        const subtotalDisplay = currentCurrency === "cny" ? subtotal.toFixed(2) : subtotal;
        
        cartSubtotalEl.textContent = `${currencySymbol}${subtotalDisplay}`;
        cartTotalEl.textContent = `${currencySymbol}${subtotalDisplay}`;
    }
    
    // çµç®—
    function checkout() {
        if (cart.length === 0) {
            showNotification('è³¼ç‰©è»Šç‚ºç©ºï¼Œè«‹å…ˆæ·»åŠ å•†å“');
            return;
        }
        
        closeCart();
        contactModal.style.display = 'flex';
    }
    
    // é¡¯ç¤ºé€šçŸ¥
    function showNotification(message) {
        notificationEl.textContent = message;
        notificationEl.style.display = 'block';
        
        setTimeout(() => {
            notificationEl.style.animation = 'slideOut 0.4s ease';
            setTimeout(() => {
                notificationEl.style.display = 'none';
                notificationEl.style.animation = '';
            }, 400);
        }, 2000);
    }
    
    // é—œé–‰æ¨¡æ…‹çª—å£
    function closeModal() {
        contactModal.style.display = 'none';
    }
    
    // é»æ“Šæ¨¡æ…‹çª—å£å¤–éƒ¨é—œé–‰
    window.onclick = function(event) {
        if (event.target === contactModal) {
            closeModal();
        }
        if (event.target === overlay) {
            closeCart();
        }
    }
    
    // æœªä¾†æ›´æ›ç”¢å“æ™‚ä½¿ç”¨çš„å‡½æ•¸
    function updateProduct(newProductConfig) {
        // æ›´æ–°ç”¢å“é…ç½®
        Object.assign(productConfig, newProductConfig);
        
        // é‡æ–°åˆå§‹åŒ–ç”¢å“é¡¯ç¤º
        initProduct();
        
        // æ¸…ç©ºè³¼ç‰©è»Šï¼ˆå› ç‚ºç”¢å“å·²è®Šæ›´ï¼‰
        cart = [];
        updateCart();
        
        showNotification('ç”¢å“è³‡è¨Šå·²æ›´æ–°');
    }
    
    // åˆå§‹åŒ–é é¢
    document.addEventListener('DOMContentLoaded', function() {
        initProduct();
        updateCart();
    });
</script>

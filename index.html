<!-- é®ç½©å±¤ -->
<div class="overlay" id="overlay" onclick="closeCart()"></div>

<header>
    <div class="header-content">
        <div class="logo">
            <div class="logo-img">ğŸ¦˜</div>
            <span>Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</span>
        </div>
        <div class="cart-icon-wrapper" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cart-count">0</span>
        </div>
    </div>
</header>

<!-- è³¼ç‰©è»Šå´é‚Šæ¬„ -->
<div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
        <h2>è³¼ç‰©è»Š</h2>
        <button class="close-cart" onclick="closeCart()">&times;</button>
    </div>
    
    <div class="cart-items" id="cart-items">
        <p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>
    </div>
    
    <div class="cart-total">
        <h3>è¨‚å–®è©³æƒ…</h3>
        <div class="total-row">
            <span>å•†å“ç¸½é¡</span>
            <span id="cart-subtotal">Â¥0.00</span>
        </div>
        <div class="total-row">
            <span>é‹è²»</span>
            <span id="cart-shipping">åŒ…éƒµåŒ…ç¨…</span>
        </div>
        <div class="total-row final">
            <span>ç¸½è¨ˆ</span>
            <span id="cart-total">Â¥0.00</span>
        </div>
    </div>
    
    <button class="checkout-btn" onclick="checkout()">å»çµç®—</button>
</div>

<div class="container">
    <div class="product-card">
        <div class="product-image">
            <div class="product-emoji">ğŸ§¸</div>
        </div>
        
        <div class="product-info">
            <div class="product-badge">æ¾³æ´²æ­£å“ç›´éƒµ</div>
            <h1 class="product-title">UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–</h1>
            <p class="product-subtitle">ç«ç‘°æœç²¾è¯+ç¶­ç”Ÿç´ Cï¼Œç¾å‘³åˆç¾å®¹ï¼Œæ¯ç“¶60ç²’</p>
            
            <div class="price-section">
                <div class="price-label">äººæ°‘å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                <div class="price">Â¥160.00 <span>Â¥258.00</span></div>
                <button class="currency-toggle" onclick="toggleCurrency()">åˆ‡æ›å°å¹£åƒ¹æ ¼</button>
                
                <div class="price-twd" id="price-twd">
                    <div class="price-label">å°å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                    <div class="price">NT$710</div>
                </div>
            </div>
            
            <div class="features">
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <span>æ¾³æ´²è—¥æˆ¿æ­£å“</span>
                </div>
                <div class="feature">
                    <i class="fas fa-shipping-fast"></i>
                    <span>ç›´éƒµåŒ…éƒµåŒ…ç¨…</span>
                </div>
                <div class="feature">
                    <i class="fas fa-leaf"></i>
                    <span>å¤©ç„¶æˆåˆ†</span>
                </div>
                <div class="feature">
                    <i class="fas fa-heart"></i>
                    <span>æ”¹å–„è‚Œè†š</span>
                </div>
            </div>
            
            <!-- ç”¢å“æè¿° -->
            <div class="product-description">
                <h3>ç”¢å“ä»‹ç´¹</h3>
                <p>UNICHIè† åŸè›‹ç™½å°ç†Šè»Ÿç³–æ˜¯æ¾³æ´²çˆ†æ¬¾ç¾å®¹ç‡Ÿé¤Šå“ï¼Œæ¡ç”¨å¤©ç„¶ç«ç‘°æœç²¾è¯å’Œç¶­ç”Ÿç´ Cé…æ–¹[1](@ref)ã€‚æ¯é¡†è»Ÿç³–éƒ½åƒç¾å‘³çš„å°ç†Šç³–æœï¼Œè¼•é¬†è£œå……è† åŸè›‹ç™½ï¼Œæ”¹å–„çš®è†šå½ˆæ€§ï¼Œæ¸›å°‘ç´°ç´‹ã€‚ç„¡äººå·¥è‰²ç´ ã€ç„¡é˜²è…åŠ‘ã€ç„¡éº©è³ªï¼Œé©åˆç´ é£Ÿè€…ã€‚æ¯å¤©2é¡†ï¼ŒæŒçºŒ28å¤©ï¼Œè¦‹è­‰è‚Œè†šç…¥æ–°è®ŠåŒ–ã€‚</p>
                
                <div class="benefit-card">
                    <h4>æ ¸å¿ƒåŠŸæ•ˆ</h4>
                    <p>â€¢ æ¯2ç²’å«1000mgæµ·æ´‹è† åŸè›‹ç™½ï¼Œè£œå……çš®è†šæ‰€éœ€ç‡Ÿé¤Š[1](@ref)</p>
                    <p>â€¢ ç«ç‘°æœç²¾è¯å¯Œå«ç¶­ç”Ÿç´ Cï¼Œä¿ƒé€²è† åŸè›‹ç™½åˆæˆ[1](@ref)</p>
                    <p>â€¢ å¢åŠ çš®è†šå½ˆæ€§é”15%ï¼Œæ”¹å–„è‚Œè†šå«æ°´é‡[1](@ref)</p>
                    <p>â€¢ å¯Œå«æŠ—æ°§åŒ–æˆåˆ†ï¼ŒæŠ‘åˆ¶è‡ªç”±åŸºï¼Œæäº®è†šè‰²[1](@ref)</p>
                </div>
                
                <h3>ä¸»è¦æˆåˆ†</h3>
                <table class="ingredient-table">
                    <thead>
                        <tr>
                            <th>æˆåˆ†</th>
                            <th>å«é‡/åŠŸæ•ˆ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>æµ·æ´‹è† åŸè›‹ç™½</td>
                            <td>æ¯2ç²’1000mgï¼Œåˆ†å­å°æ˜“å¸æ”¶[1](@ref)</td>
                        </tr>
                        <tr>
                            <td>ç«ç‘°æœæå–ç‰©</td>
                            <td>å¤©ç„¶ç¶­ç”Ÿç´ Cä¾†æºï¼ŒæŠ—æ°§åŒ–[1](@ref)</td>
                        </tr>
                        <tr>
                            <td>ç«ç‘°èŠ±</td>
                            <td>è£œå……èŠ±é’ç´ ï¼Œæ½¤æ¾¤è‚Œè†š[1](@ref)</td>
                        </tr>
                        <tr>
                            <td>é‡è‘‰æ«»æ¡ƒ</td>
                            <td>å¯Œå«å¤©ç„¶ç¶­ç”Ÿç´ Cï¼ŒæŠ‘åˆ¶90%è‡ªç”±åŸº[1](@ref)</td>
                        </tr>
                        <tr>
                            <td>ç¶­ç”Ÿç´ C</td>
                            <td>ä¿ƒé€²è† åŸè›‹ç™½åˆæˆï¼Œæäº®è†šè‰²[1](@ref)</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>é£Ÿç”¨æ–¹æ³•</h3>
                <ul>
                    <li>æˆäººæ¯æ—¥2é¡†ï¼Œéš¨é¤æˆ–é¤å¾Œå’€åš¼é£Ÿç”¨[1](@ref)</li>
                    <li>å¯ç›´æ¥å’€åš¼ï¼Œå£æ„Ÿé…¸ç”œå¯å£ï¼ŒQå½ˆä¸é»ç‰™</li>
                    <li>å»ºè­°é€£çºŒé£Ÿç”¨28å¤©ä»¥ä¸Šæ•ˆæœæ›´ä½³</li>
                    <li>å­˜æ”¾æ–¼é™°æ¶¼ä¹¾ç‡¥è™•ï¼Œé¿å…é™½å…‰ç›´å°„</li>
                    <li>ç½®æ–¼å…’ç«¥ç„¡æ³•è§¸åŠçš„åœ°æ–¹</li>
                </ul>
                
                <div class="benefit-card">
                    <h4>ç”¢å“ç‰¹é»</h4>
                    <p>â€¢ 0è”—ç³–ã€0è„‚è‚ªã€è¶…ä½å¡è·¯é‡Œï¼Œç¾å‘³ä¸æ€•èƒ–[1](@ref)</p>
                    <p>â€¢ å°ç†Šé€ å‹å¯æ„›ï¼Œå£æ„ŸQå½ˆå¦‚é›¶é£Ÿ</p>
                    <p>â€¢ æ¾³æ´²åŸè£é€²å£ï¼ŒTGAåŠGMPèªè­‰ç”Ÿç”¢[2,6](@ref)</p>
                    <p>â€¢ é©åˆå¿™ç¢Œä¸Šç­æ—ï¼Œéš¨æ™‚éš¨åœ°è£œå……ç‡Ÿé¤Š</p>
                </div>
                
                <h3>æ³¨æ„äº‹é …</h3>
                <ul>
                    <li>æœ¬å“ç‚ºè†³é£Ÿè£œå……åŠ‘ï¼Œä¸èƒ½æ›¿ä»£è—¥ç‰©[7](@ref)</li>
                    <li>å­•å©¦ã€å“ºä¹³æœŸå©¦å¥³åŠå…’ç«¥ä½¿ç”¨å‰è«‹è«®è©¢é†«ç”Ÿ[7](@ref)</li>
                    <li>å°æˆåˆ†éæ•è€…è«‹å‹¿ä½¿ç”¨[7](@ref)</li>
                    <li>æ•ˆæœå› äººè€Œç•°ï¼Œéœ€é•·æœŸè¦å¾‹æœç”¨[7](@ref)</li>
                    <li>é…åˆå¥åº·é£²é£Ÿå’Œé©ç•¶è­·è†šæ•ˆæœæ›´ä½³[7](@ref)</li>
                </ul>
            </div>
            
            <div style="margin: 25px 0;">
                <div style="margin-bottom: 15px; font-weight: 600;">è³¼è²·æ•¸é‡ï¼š</div>
                <div class="quantity-control">
                    <button class="qty-btn" onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1" readonly>
                    <button class="qty-btn" onclick="changeQuantity(1)">+</button>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="addToCart()">
                    <i class="fas fa-cart-plus"></i> åŠ å…¥è³¼ç‰©è»Š
                </button>
                <button class="btn btn-secondary" onclick="buyNow()">
                    <i class="fas fa-bolt"></i> ç«‹å³è³¼è²·
                </button>
            </div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-top: 25px;">
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-info-circle" style="color: #4ecdc4; margin-right: 10px;"></i>
                    é è¨ˆé€é”ï¼šæ¾³æ´²ç›´éƒµï¼Œ7-15å€‹å·¥ä½œæ—¥å…§é€é”
                </p>
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-shield-alt" style="color: #4ecdc4; margin-right: 10px;"></i>
                    æ­£å“ä¿éšœï¼šæä¾›æ¾³æ´²æœ¬åœ°è³¼è²·æ†‘è­‰
                </p>
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-truck" style="color: #4ecdc4; margin-right: 10px;"></i>
                    é‹è²»æ”¿ç­–ï¼šåŒ…éƒµåŒ…ç¨…ï¼Œç„¡éš±è—è²»ç”¨
                </p>
            </div>
        </div>
    </div>
</div>

<!-- è¯ç¹«å®¢æœæ¨¡æ…‹æ¡† -->
<div id="contactModal" class="modal">
    <div class="modal-content">
        <div style="font-size: 60px; color: #4ecdc4; margin-bottom: 20px;">
            <i class="fas fa-comment-dots"></i>
        </div>
        
        <h2 style="color: #333; margin-bottom: 10px;">è¯ç¹«å®¢æœè³¼è²·</h2>
        <p style="color: #666; margin-bottom: 30px;">è«‹æ·»åŠ ä»¥ä¸‹è¯ç¹«æ–¹å¼ï¼Œå®¢æœå°‡ç‚ºæ‚¨è™•ç†è¨‚å–®</p>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">å¾®ä¿¡ï¼ˆä¸­åœ‹ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ æ™‚è«‹å‚™è¨»"UNICHIå°ç†Šè»Ÿç³–"</p>
        </div>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">LINEï¼ˆå°ç£ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ å¾Œç™¼é€"UNICHI"é–‹å§‹è«®è©¢</p>
        </div>
        
        <p style="color: #666; font-size: 15px; margin: 30px 0; line-height: 1.6;">
            æ·»åŠ å®¢æœå¾Œï¼Œè«‹ç™¼é€æ‚¨çš„è³¼ç‰©è»Šæˆªåœ–ï¼Œå®¢æœå°‡ç‚ºæ‚¨ç¢ºèªè¨‚å–®è©³æƒ…ã€å®‰æ’ç™¼è²¨ä¸¦æŒ‡å°æ”¯ä»˜ã€‚
        </p>
        
        <button class="btn btn-secondary" onclick="closeModal()" style="width: 100%; padding: 18px; font-size: 16px;">
            <i class="fas fa-times"></i> é—œé–‰çª—å£
        </button>
    </div>
</div>

<!-- é€šçŸ¥æç¤º -->
<div id="notification" class="notification"></div>

<footer>
    <div class="container">
        <p style="font-size: 16px; margin-bottom: 10px; font-weight: 600;">Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</p>
        <p style="color: #888; font-size: 14px; margin: 5px 0;">å°ˆæ¥­æ¾³æ´²ç›´éƒµï¼Œæ­£å“ä¿éšœï¼ŒåŒ…éƒµåŒ…ç¨…</p>
        <p style="color: #aaa; font-size: 13px; margin-top: 15px;">æœå‹™æ™‚é–“ï¼šé€±ä¸€è‡³é€±äº” 9:00-18:00ï¼ˆæ¾³æ´²æ™‚é–“ï¼‰</p>
        
        <div class="social-icons">
            <a href="#" title="å¾®ä¿¡"><i class="fab fa-weixin"></i></a>
            <a href="#" title="LINE"><i class="fab fa-line"></i></a>
            <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
            <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
        
        <p style="color: #aaa; font-size: 12px; margin-top: 20px;">
            å…è²¬è²æ˜ï¼šæœ¬ç”¢å“ç‚ºè†³é£Ÿè£œå……åŠ‘ï¼Œä¸èƒ½æ›¿ä»£è—¥ç‰©ã€‚æ•ˆæœå› äººè€Œç•°ï¼Œè«‹ç†æ€§æ¶ˆè²»ã€‚
        </p>
    </div>
</footer>

<script>
    // ç”¢å“æ•¸æ“šé…ç½®
    const productConfig = {
        id: 1,
        name: "UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–",
        subtitle: "ç«ç‘°æœç²¾è¯+ç¶­ç”Ÿç´ Cï¼Œç¾å‘³åˆç¾å®¹ï¼Œæ¯ç“¶60ç²’",
        badge: "æ¾³æ´²æ­£å“ç›´éƒµ",
        emoji: "ğŸ§¸",
        
        // åƒ¹æ ¼è¨­å®š
        price_cny: 160.00,
        original_price_cny: 258.00,
        price_twd: 710
    };
    
    // è³¼ç‰©è»Šæ•¸æ“š
    let cart = [];
    let quantity = 1;
    let currentCurrency = "cny"; // cny æˆ– twd
    
    // DOMå…ƒç´ 
    const quantityEl = document.getElementById('quantity');
    const cartCountEl = document.getElementById('cart-count');
    const cartItemsEl = document.getElementById('cart-items');
    const cartSubtotalEl = document.getElementById('cart-subtotal');
    const cartShippingEl = document.getElementById('cart-shipping');
    const cartTotalEl = document.getElementById('cart-total');
    const cartSidebar = document.getElementById('cart-sidebar');
    const overlay = document.getElementById('overlay');
    const notificationEl = document.getElementById('notification');
    const contactModal = document.getElementById('contactModal');
    const priceTwdEl = document.getElementById('price-twd');
    const loadingEl = document.getElementById('loading');
    
    // åˆå§‹åŒ–é é¢
    function initPage() {
        // éš±è—åŠ è¼‰å‹•ç•«
        setTimeout(() => {
            loadingEl.classList.remove('active');
        }, 500);
        
        // åˆå§‹åŒ–ç”¢å“è³‡è¨Š
        document.querySelector('.product-title').textContent = productConfig.name;
        document.querySelector('.product-subtitle').textContent = productConfig.subtitle;
        document.querySelector('.product-badge').textContent = productConfig.badge;
        document.querySelector('.product-emoji').textContent = productConfig.emoji;
        
        // æ›´æ–°åƒ¹æ ¼é¡¯ç¤º
        updatePriceDisplay();
        
        // å¾æœ¬åœ°å­˜å„²åŠ è¼‰è³¼ç‰©è»Š
        loadCartFromStorage();
        
        // æ›´æ–°è³¼ç‰©è»Šé¡¯ç¤º
        updateCartDisplay();
        
        console.log('é é¢åˆå§‹åŒ–å®Œæˆ');
    }
    
    // æ›´æ–°åƒ¹æ ¼é¡¯ç¤º
    function updatePriceDisplay() {
        const priceElement = document.querySelector('.price');
        priceElement.innerHTML = `Â¥${productConfig.price_cny.toFixed(2)} <span>Â¥${productConfig.original_price_cny.toFixed(2)}</span>`;
    }
    
    // åˆ‡æ›è²¨å¹£é¡¯ç¤º
    function toggleCurrency() {
        const toggleBtn = document.querySelector('.currency-toggle');
        
        if (currentCurrency === "cny") {
            currentCurrency = "twd";
            priceTwdEl.style.display = "block";
            toggleBtn.textContent = "åˆ‡æ›äººæ°‘å¹£åƒ¹æ ¼";
            toggleBtn.style.background = "#ff6b8b";
        } else {
            currentCurrency = "cny";
            priceTwdEl.style.display = "none";
            toggleBtn.textContent = "åˆ‡æ›å°å¹£åƒ¹æ ¼";
            toggleBtn.style.background = "#4ecdc4";
        }
    }
    
    // ä¿®æ”¹æ•¸é‡
    function changeQuantity(change) {
        quantity += change;
        if (quantity < 1) quantity = 1;
        if (quantity > 99) quantity = 99;
        quantityEl.value = quantity;
    }
    
    // åŠ å…¥è³¼ç‰©è»Š
    function addToCart() {
        const product = {
            id: productConfig.id,
            name: productConfig.name,
            price: productConfig.price_cny,
            quantity: quantity,
            emoji: productConfig.emoji
        };
        
        // æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨æ–¼è³¼ç‰©è»Š
        const existingIndex = cart.findIndex(item => item.id === product.id);
        
        if (existingIndex > -1) {
            // æ›´æ–°æ•¸é‡
            cart[existingIndex].quantity += quantity;
        } else {
            // æ·»åŠ æ–°å•†å“
            cart.push(product);
        }
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å„²
        saveCartToStorage();
        
        // æ›´æ–°è³¼ç‰©è»Šé¡¯ç¤º
        updateCartDisplay();
        
        // é¡¯ç¤ºé€šçŸ¥
        showNotification(`å·²æˆåŠŸæ·»åŠ  ${quantity} ä»¶å•†å“åˆ°è³¼ç‰©è»Š`);
        
        // é‡ç½®æ•¸é‡
        quantity = 1;
        quantityEl.value = quantity;
    }
    
    // ç«‹å³è³¼è²·
    function buyNow() {
        addToCart();
        toggleCart();
    }
    
    // åˆ‡æ›è³¼ç‰©è»Šé¡¯ç¤º
    function toggleCart() {
        cartSidebar.classList.toggle('active');
        overlay.classList.toggle('active');
        
        // é˜»æ­¢æ»¾å‹•
        if (cartSidebar.classList.contains('active')) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = 'auto';
        }
    }
    
    // é—œé–‰è³¼ç‰©è»Š
    function closeCart() {
        cartSidebar.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
    
    // æ›´æ–°è³¼ç‰©è»Šé¡¯ç¤º
    function updateCartDisplay() {
        // æ›´æ–°è³¼ç‰©è»Šæ•¸é‡
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        cartCountEl.textContent = totalItems;
        
        // æ›´æ–°è³¼ç‰©è»Šå…§å®¹
        if (cart.length === 0) {
            cartItemsEl.innerHTML = '<p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>';
            cartSubtotalEl.textContent = 'Â¥0.00';
            cartTotalEl.textContent = 'Â¥0.00';
            return;
        }
        
        let cartHTML = '';
        let subtotal = 0;
        
        cart.forEach((item, index) => {
            const itemTotal = item.price * item.quantity;
            subtotal += itemTotal;
            
            cartHTML += `
                <div class="cart-item">
                    <div class="cart-item-img">${item.emoji}</div>
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">Â¥${item.price.toFixed(2)}</div>
                        <div class="cart-item-controls">
                            <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, -1)">-</button>
                            <span class="cart-qty">${item.quantity}</span>
                            <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                            <span class="remove-item" onclick="removeCartItem(${index})">ç§»é™¤</span>
                        </div>
                    </div>
                </div>
            `;
        });
        
        cartItemsEl.innerHTML = cartHTML;
        cartSubtotalEl.textContent = `Â¥${subtotal.toFixed(2)}`;
        cartTotalEl.textContent = `Â¥${subtotal.toFixed(2)}`;
    }
    
    // æ›´æ–°è³¼ç‰©è»Šå•†å“æ•¸é‡
    function updateCartItemQuantity(index, change) {
        cart[index].quantity += change;
        
        if (cart[index].quantity < 1) {
            cart[index].quantity = 1;
        }
        
        if (cart[index].quantity > 99) {
            cart[index].quantity = 99;
        }
        
        saveCartToStorage();
        updateCartDisplay();
    }
    
    // ç§»é™¤è³¼ç‰©è»Šå•†å“
    function removeCartItem(index) {
        cart.splice(index, 1);
        saveCartToStorage();
        updateCartDisplay();
        showNotification('å•†å“å·²å¾è³¼ç‰©è»Šç§»é™¤');
    }
    
    // çµç®—
    function checkout() {
        if (cart.length === 0) {
            showNotification('è³¼ç‰©è»Šç‚ºç©ºï¼Œè«‹å…ˆæ·»åŠ å•†å“');
            return;
        }
        
        closeCart();
        contactModal.style.display = 'flex';
    }
    
    // é—œé–‰æ¨¡æ…‹æ¡†
    function closeModal() {
        contactModal.style.display = 'none';
    }
    
    // é¡¯ç¤ºé€šçŸ¥
    function showNotification(message) {
        notificationEl.textContent = message;
        notificationEl.style.display = 'block';
        
        setTimeout(() => {
            notificationEl.style.display = 'none';
        }, 3000);
    }
    
    // ä¿å­˜è³¼ç‰©è»Šåˆ°æœ¬åœ°å­˜å„²
    function saveCartToStorage() {
        try {
            localStorage.setItem('unichi_cart', JSON.stringify(cart));
        } catch (e) {
            console.error('ä¿å­˜è³¼ç‰©è»Šå¤±æ•—:', e);
        }
    }
    
    // å¾æœ¬åœ°å­˜å„²åŠ è¼‰è³¼ç‰©è»Š
    function loadCartFromStorage() {
        try {
            const savedCart = localStorage.getItem('unichi_cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
        } catch (e) {
            console.error('åŠ è¼‰è³¼ç‰©è»Šå¤±æ•—:', e);
            cart = [];
        }
    }
    
    // é é¢åŠ è¼‰å®Œæˆå¾Œåˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', initPage);
    
    // é»æ“Šé®ç½©å±¤é—œé–‰è³¼ç‰©è»Š
    overlay.addEventListener('click', closeCart);
    
    // é»æ“Šæ¨¡æ…‹æ¡†å¤–éƒ¨é—œé–‰
    window.addEventListener('click', function(event) {
        if (event.target === contactModal) {
            closeModal();
        }
    });
    
    // éµç›¤äº‹ä»¶
    document.addEventListener('keydown', function(event) {
        // ESCéµé—œé–‰è³¼ç‰©è»Šå’Œæ¨¡æ…‹æ¡†
        if (event.key === 'Escape') {
            closeCart();
            closeModal();
        }
    });
</script>

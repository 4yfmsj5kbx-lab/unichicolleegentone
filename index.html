<header>
    <div class="header-content">
        <div class="logo">
            <div class="logo-img">ğŸ¦˜</div>
            <span>Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</span>
        </div>
        <div class="cart-icon-wrapper" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cart-count">0</span>
        </div>
    </div>
</header>

<!-- è³¼ç‰©è»Šå´é‚Šæ¬„ -->
<div class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
        <h2>è³¼ç‰©è»Š</h2>
        <button class="close-cart" onclick="closeCart()">&times;</button>
    </div>
    
    <div class="cart-items" id="cart-items">
        <p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>
    </div>
    
    <div class="cart-total">
        <h3>è¨‚å–®è©³æƒ…</h3>
        <div class="total-row">
            <span>å•†å“ç¸½é¡</span>
            <span id="cart-subtotal">Â¥0.00</span>
        </div>
        <div class="total-row">
            <span>é‹è²»</span>
            <span id="cart-shipping">åŒ…éƒµåŒ…ç¨…</span>
        </div>
        <div class="total-row final">
            <span>ç¸½è¨ˆ</span>
            <span id="cart-total">Â¥0.00</span>
        </div>
    </div>
    
    <button class="checkout-btn" onclick="checkout()">å»çµç®—</button>
</div>

<div class="container">
    <div class="product-card">
        <div class="product-image">
            <div class="product-emoji">ğŸ§¸</div>
        </div>
        
        <div class="product-info">
            <div class="product-badge">æ¾³æ´²æ­£å“ç›´éƒµ</div>
            <h1 class="product-title">UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–</h1>
            <p class="product-subtitle">ç«ç‘°æœç²¾è¯+ç¶­ç”Ÿç´ Cï¼Œç¾å‘³åˆç¾å®¹ï¼Œæ¯ç“¶60ç²’</p>
            
            <div class="price-section">
                <div class="price-label">äººæ°‘å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                <div class="price">Â¥160.00 <span>Â¥258.00</span></div>
                <button class="currency-toggle" onclick="toggleCurrency()">åˆ‡æ›å°å¹£åƒ¹æ ¼</button>
                
                <div class="price-twd" id="price-twd">
                    <div class="price-label">å°å¹£åƒ¹æ ¼ (åŒ…éƒµåŒ…ç¨…):</div>
                    <div class="price">NT$710</div>
                </div>
            </div>
            
            <div class="features">
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <span>æ¾³æ´²è—¥æˆ¿æ­£å“</span>
                </div>
                <div class="feature">
                    <i class="fas fa-shipping-fast"></i>
                    <span>ç›´éƒµåŒ…éƒµåŒ…ç¨…</span>
                </div>
                <div class="feature">
                    <i class="fas fa-leaf"></i>
                    <span>å¤©ç„¶æˆåˆ†</span>
                </div>
                <div class="feature">
                    <i class="fas fa-heart"></i>
                    <span>æ”¹å–„è‚Œè†š</span>
                </div>
            </div>
            
            <div style="margin: 25px 0;">
                <div style="margin-bottom: 15px; font-weight: 600;">è³¼è²·æ•¸é‡ï¼š</div>
                <div class="quantity-control">
                    <button class="qty-btn" onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1" readonly>
                    <button class="qty-btn" onclick="changeQuantity(1)">+</button>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="addToCart()">
                    <i class="fas fa-cart-plus"></i> åŠ å…¥è³¼ç‰©è»Š
                </button>
                <button class="btn btn-secondary" onclick="buyNow()">
                    <i class="fas fa-bolt"></i> ç«‹å³è³¼è²·
                </button>
            </div>
            
            <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-top: 25px;">
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-info-circle" style="color: #4ecdc4; margin-right: 10px;"></i>
                    é è¨ˆé€é”ï¼šæ¾³æ´²ç›´éƒµï¼Œ7-15å€‹å·¥ä½œæ—¥å…§é€é”
                </p>
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-shield-alt" style="color: #4ecdc4; margin-right: 10px;"></i>
                    æ­£å“ä¿éšœï¼šæä¾›æ¾³æ´²æœ¬åœ°è³¼è²·æ†‘è­‰
                </p>
                <p style="margin: 8px 0; color: #555;">
                    <i class="fas fa-truck" style="color: #4ecdc4; margin-right: 10px;"></i>
                    é‹è²»æ”¿ç­–ï¼šåŒ…éƒµåŒ…ç¨…ï¼Œç„¡éš±è—è²»ç”¨
                </p>
            </div>
        </div>
    </div>
</div>

<!-- è¯ç¹«å®¢æœæ¨¡æ…‹æ¡† -->
<div id="contactModal" class="modal">
    <div class="modal-content">
        <div style="font-size: 60px; color: #4ecdc4; margin-bottom: 20px;">
            <i class="fas fa-comment-dots"></i>
        </div>
        
        <h2 style="color: #333; margin-bottom: 10px;">è¯ç¹«å®¢æœè³¼è²·</h2>
        <p style="color: #666; margin-bottom: 30px;">è«‹æ·»åŠ ä»¥ä¸‹è¯ç¹«æ–¹å¼ï¼Œå®¢æœå°‡ç‚ºæ‚¨è™•ç†è¨‚å–®</p>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">å¾®ä¿¡ï¼ˆä¸­åœ‹ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ æ™‚è«‹å‚™è¨»"UNICHIå°ç†Šè»Ÿç³–"</p>
        </div>
        
        <div class="contact-box">
            <h3 style="color: #333; margin-bottom: 15px;">LINEï¼ˆå°ç£ç”¨æˆ¶ï¼‰</h3>
            <div class="contact-id">tonexie1984</div>
            <p style="color: #666; margin-top: 10px;">æ·»åŠ å¾Œç™¼é€"UNICHI"é–‹å§‹è«®è©¢</p>
        </div>
        
        <p style="color: #666; font-size: 15px; margin: 30px 0; line-height: 1.6;">
            æ·»åŠ å®¢æœå¾Œï¼Œè«‹ç™¼é€æ‚¨çš„è³¼ç‰©è»Šæˆªåœ–ï¼Œå®¢æœå°‡ç‚ºæ‚¨ç¢ºèªè¨‚å–®è©³æƒ…ã€å®‰æ’ç™¼è²¨ä¸¦æŒ‡å°æ”¯ä»˜ã€‚
        </p>
        
        <button class="btn btn-secondary" onclick="closeModal()" style="width: 100%; padding: 18px; font-size: 16px;">
            <i class="fas fa-times"></i> é—œé–‰çª—å£
        </button>
    </div>
</div>

<!-- é€šçŸ¥æç¤º -->
<div id="notification" class="notification"></div>

<footer>
    <div class="container">
        <p style="font-size: 16px; margin-bottom: 10px; font-weight: 600;">Zoeyå°ç£äººæ¾³æ´²è³¼Toneç›´éƒµ</p>
        <p style="color: #888; font-size: 14px; margin: 5px 0;">å°ˆæ¥­æ¾³æ´²ç›´éƒµï¼Œæ­£å“ä¿éšœï¼ŒåŒ…éƒµåŒ…ç¨…</p>
        <div class="social-icons">
            <a href="#"><i class="fab fa-weixin"></i></a>
            <a href="#"><i class="fab fa-line"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
        <p style="color: #aaa; font-size: 13px; margin-top: 15px;">æœå‹™æ™‚é–“ï¼šé€±ä¸€è‡³é€±äº” 9:00-18:00</p>
    </div>
</footer>

<script>
    // è³¼ç‰©è»Šæ•¸æ“š
    let cart = [];
    let currency = 'CNY';
    const productPrice = 160.00;
    const productPriceTWD = 710;
    
    // DOMå…ƒç´ 
    const cartSidebar = document.getElementById('cart-sidebar');
    const overlay = document.getElementById('overlay');
    const cartCount = document.getElementById('cart-count');
    const cartItems = document.getElementById('cart-items');
    const cartSubtotal = document.getElementById('cart-subtotal');
    const cartTotal = document.getElementById('cart-total');
    const quantityInput = document.getElementById('quantity');
    const priceTwd = document.getElementById('price-twd');
    const notification = document.getElementById('notification');
    const contactModal = document.getElementById('contactModal');
    
    // è³¼ç‰©è»ŠåŠŸèƒ½
    function toggleCart() {
        cartSidebar.classList.toggle('active');
        overlay.classList.toggle('active');
        updateCartDisplay();
    }
    
    function closeCart() {
        cartSidebar.classList.remove('active');
        overlay.classList.remove('active');
    }
    
    function updateCartDisplay() {
        // æ›´æ–°è³¼ç‰©è»Šæ•¸é‡
        cartCount.textContent = cart.reduce((total, item) => total + item.quantity, 0);
        
        // æ›´æ–°è³¼ç‰©è»Šå…§å®¹
        if (cart.length === 0) {
            cartItems.innerHTML = '<p style="text-align: center; color: #888; padding: 30px 0;">è³¼ç‰©è»Šç‚ºç©º</p>';
        } else {
            let html = '';
            cart.forEach((item, index) => {
                const price = currency === 'CNY' ? productPrice : productPriceTWD;
                const symbol = currency === 'CNY' ? 'Â¥' : 'NT$';
                const itemTotal = price * item.quantity;
                
                html += `
                    <div class="cart-item">
                        <div class="cart-item-img">ğŸ§¸</div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–</div>
                            <div class="cart-item-price">${symbol}${price.toFixed(2)}</div>
                            <div class="cart-item-controls">
                                <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, -1)">-</button>
                                <span class="cart-qty">${item.quantity}</span>
                                <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                                <span class="remove-item" onclick="removeFromCart(${index})">ç§»é™¤</span>
                            </div>
                        </div>
                    </div>
                `;
            });
            cartItems.innerHTML = html;
        }
        
        // æ›´æ–°ç¸½é‡‘é¡
        const subtotal = cart.reduce((total, item) => {
            const price = currency === 'CNY' ? productPrice : productPriceTWD;
            return total + (price * item.quantity);
        }, 0);
        
        const symbol = currency === 'CNY' ? 'Â¥' : 'NT$';
        cartSubtotal.textContent = `${symbol}${subtotal.toFixed(2)}`;
        cartTotal.textContent = `${symbol}${subtotal.toFixed(2)}`;
    }
    
    function addToCart() {
        const quantity = parseInt(quantityInput.value);
        
        // æª¢æŸ¥æ˜¯å¦å·²æœ‰ç›¸åŒç”¢å“åœ¨è³¼ç‰©è»Š
        const existingIndex = cart.findIndex(item => item.productId === 'unichi-bear-gummy');
        
        if (existingIndex !== -1) {
            cart[existingIndex].quantity += quantity;
        } else {
            cart.push({
                productId: 'unichi-bear-gummy',
                name: 'UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–',
                quantity: quantity,
                price: currency === 'CNY' ? productPrice : productPriceTWD
            });
        }
        
        updateCartDisplay();
        showNotification('å•†å“å·²åŠ å…¥è³¼ç‰©è»Šï¼');
    }
    
    function updateCartItemQuantity(index, change) {
        const newQuantity = cart[index].quantity + change;
        
        if (newQuantity < 1) {
            removeFromCart(index);
        } else {
            cart[index].quantity = newQuantity;
            updateCartDisplay();
        }
    }
    
    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartDisplay();
        showNotification('å•†å“å·²å¾è³¼ç‰©è»Šç§»é™¤');
    }
    
    // æ•¸é‡æ§åˆ¶
    function changeQuantity(change) {
        let current = parseInt(quantityInput.value);
        current += change;
        
        if (current < 1) current = 1;
        quantityInput.value = current;
    }
    
    // è²¨å¹£åˆ‡æ›
    function toggleCurrency() {
        if (currency === 'CNY') {
            currency = 'TWD';
            priceTwd.style.display = 'block';
            document.querySelector('.currency-toggle').textContent = 'åˆ‡æ›äººæ°‘å¹£åƒ¹æ ¼';
        } else {
            currency = 'CNY';
            priceTwd.style.display = 'none';
            document.querySelector('.currency-toggle').textContent = 'åˆ‡æ›å°å¹£åƒ¹æ ¼';
        }
        updateCartDisplay();
    }
    
    // ç«‹å³è³¼è²·
    function buyNow() {
        const quantity = parseInt(quantityInput.value);
        
        // æ¸…ç©ºè³¼ç‰©è»Šä¸¦æ·»åŠ ç•¶å‰å•†å“
        cart = [{
            productId: 'unichi-bear-gummy',
            name: 'UNICHI è† åŸè›‹ç™½å°ç†Šè»Ÿç³–',
            quantity: quantity,
            price: currency === 'CNY' ? productPrice : productPriceTWD
        }];
        
        updateCartDisplay();
        toggleCart();
        showNotification('å·²åŠ å…¥è³¼ç‰©è»Šï¼Œè«‹å‰å¾€çµç®—');
    }
    
    // çµç®—
    function checkout() {
        if (cart.length === 0) {
            showNotification('è³¼ç‰©è»Šç‚ºç©ºï¼Œè«‹å…ˆæ·»åŠ å•†å“');
            return;
        }
        
        closeCart();
        contactModal.style.display = 'flex';
    }
    
    // æ¨¡æ…‹æ¡†æ§åˆ¶
    function closeModal() {
        contactModal.style.display = 'none';
    }
    
    // é€šçŸ¥åŠŸèƒ½
    function showNotification(message) {
        notification.textContent = message;
        notification.style.display = 'block';
        
        setTimeout(() => {
            notification.style.display = 'none';
        }, 3000);
    }
    
    // é»æ“Šé®ç½©é—œé–‰æ¨¡æ…‹æ¡†
    window.onclick = function(event) {
        if (event.target === contactModal) {
            closeModal();
        }
    }
    
    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
        updateCartDisplay();
    });
</script>
